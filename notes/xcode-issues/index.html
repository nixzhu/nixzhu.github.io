<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="NIX ZHU"/><link rel="canonical" href="https://nixzhu.dev/notes/xcode-issues"/><meta name="twitter:url" content="https://nixzhu.dev/notes/xcode-issues"/><meta name="og:url" content="https://nixzhu.dev/notes/xcode-issues"/><title>Xcode 相关问题 | NIX ZHU</title><meta name="twitter:title" content="Xcode 相关问题 | NIX ZHU"/><meta name="og:title" content="Xcode 相关问题 | NIX ZHU"/><meta name="description" content="如何解决常见的与 Xcode 相关的问题"/><meta name="twitter:description" content="如何解决常见的与 Xcode 相关的问题"/><meta name="og:description" content="如何解决常见的与 Xcode 相关的问题"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to NIX ZHU"/></head><body class="item-page"><header><div class="wrapper"><a href="/" class="site-name">NIX ZHU</a><nav><ul><li><a href="/posts">Posts</a></li><li><a href="/notes" class="selected">Notes</a></li><li><a href="/about">About</a></li></ul></nav></div></header><div class="wrapper"><article><div class="date">2022/5/2</div><div class="content"><h1>Xcode 相关问题</h1><h2>用命令行解决 Swift 包依赖</h2><p>因为沦陷区的互联网受限，Xcode 可能无法正常拉取来自 GitHub 的 Swift Package。由于 Xcode 不走系统代理，我们只能使用命令行解决：</p><ol><li>关闭 Xcode</li></ol><ol start="2"><li>终端启用代理（此处使用 ClashX 提供的命令，请根据你的情况调整）</li></ol><p><code>export https_proxy=http://127.0.0.1:7890 http_proxy=http://127.0.0.1:7890 all_proxy=socks5://127.0.0.1:7890</code></p><ol start="3"><li>进入 Xcode 工程所在目录，然后使用系统的源码管理工具解决包依赖（如此代理才能干预）</li></ol><p><code>xcodebuild -resolvePackageDependencies -scmProvider system</code></p><ol start="4"><li>再打开对应的 Xcode 工程</li></ol><p>此方法可处理普通的 Xcode 工程，也可以处理单纯的 Swift Package 的依赖</p><h2>生成新的 Apple 分发证书</h2><p>如果你的新 Mac 遇到无法提交 App 到 App Store 的问题（<a href="https://daddycoding.com/2020/07/22/missing-private-key/">Missing Private Key</a>）</p><ol><li>打开<strong>钥匙串访问</strong>，菜单选择<strong>证书助理</strong> -&gt; <strong>从证书颁发机构请求证书…</strong></li><li>填入常用电子邮件和昵称，存储到磁盘，得到 <strong>CertificateSigningRequest.certSigningRequest</strong></li><li>到<a href="https://developer.apple.com/account/resources/certificates/add">这里</a>去 <strong>Create a New Certificate</strong><ol><li>选择 Apple Distrubution，Continue</li><li>Choose File，将之前得到的 CertificateSigningRequest.certSigningRequest 上传，Continue</li><li>下载证书，双击之，重启 Xcode 即可</li></ol></li></ol><p>如果还提示 Mac Installer 有问题，就在网页 certificates 一栏里删除旧的。到 Xcode 的账号管理的 Manage Certificates 里确定旧的已删除，然后重启 Xcode。再次上传 Mac app 时会提示生成新的 p12 证书</p></div><ul class="tag-list"><li><a href="/tags/swift-package-manager">Swift Package Manager</a></li></ul></article></div><footer><p>Copyright © 2020-2022 nixzhu. All rights reserved.</p><p><a href="/feed.rss">RSS feed</a></p></footer></body></html>